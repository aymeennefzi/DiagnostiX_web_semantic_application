<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />

<div class="symptom-list">
  <h2 class="mb-3"><i class="fas fa-notes-medical"></i> Liste des symptômes</h2>
  <div class="add-symptom mb-4 d-flex align-items-center">
    <button (click)="openAddModal()" class="btn btn-primary me-2">
      <i class="fas fa-plus-circle"></i> Ajouter un symptôme
    </button>
    <button (click)="deleteAllSymptoms()" class="btn btn-danger">
      <i class="fas fa-trash-alt"></i> Supprimer tous les symptômes
    </button>
  </div>
  <ul class="list-group">
    <li *ngFor="let symptom of symptoms" class="list-group-item d-flex justify-content-between align-items-center py-3">
      <span>{{ symptom.nom }}: {{ symptom.description }}</span>
      <div>
        <button class="btn btn-secondary btn-sm me-2" (click)="openEditModal(symptom)">
          <i class="fas fa-pencil-alt"></i> Modifier
        </button>
        <button class="btn btn-danger btn-sm" (click)="deleteSymptom(symptom.nom)">
          <i class="fas fa-trash"></i> Supprimer
        </button>
      </div>
    </li>
  </ul>
</div>

<!-- Popup pour ajouter un symptôme -->
<div class="symptom-popup" *ngIf="isAddModalOpen">
  <div class="popup-content">
    <div class="popup-header">
      <img src="symptom-icon.png" alt="Symptom Icon" class="popup-icon">
      <h2 class="popup-title"><i class="fas fa-plus-circle"></i> Ajouter un symptôme</h2>
    </div>
    <form (ngSubmit)="addSymptom()">
      <div class="form-group">
        <label for="symptomName"><i class="fas fa-stethoscope"></i> Nom du symptôme</label>
        <input type="text" class="form-control" id="symptomName" [(ngModel)]="newSymptom.nom" name="nom" placeholder="Entrez le nom du symptôme" required>
      </div>
      <div class="form-group">
        <label for="symptomDescription"><i class="fas fa-clipboard-list"></i> Description</label>
        <textarea class="form-control" id="symptomDescription" [(ngModel)]="newSymptom.description" name="description" rows="3" placeholder="Décrivez le symptôme" required></textarea>
      </div>
      <div class="d-flex justify-content-end">
        <button type="button" class="btn btn-secondary me-2" (click)="closeAddModal()">
          <i class="fas fa-times"></i> Annuler
        </button>
        <button type="submit" class="btn btn-primary">
          <i class="fas fa-check"></i> Ajouter
        </button>
      </div>
    </form>
  </div>
</div>
